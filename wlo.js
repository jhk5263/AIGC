// ==UserScript==
// @name         wLovart登录系统
// @namespace    http://tampermonkey.net/
// @version      1.262
// @description
// @author       haway
// @match        *://*.lovart.ai/*
// @grant        GM_xmlhttpRequest
// @grant        GM_notification
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        GM_addStyle
// @grant        unsafeWindow
// @connect      lhou.haway.dpdns.org
// @connect      co.taotile.ltd
// @run-at       document-start
// @updateURL    https://co.taotile.ltd/wlo.js
// @downloadURL  https://co.taotile.ltd/wlo.js
// ==/UserScript==
(function(_0x25bbad,_0x335063){const _0x12d781=_0x45eb,_0xc53495=_0x25bbad();while(!![]){try{const _0x42c772=-parseInt(_0x12d781(0x1d2))/0x1*(parseInt(_0x12d781(0x1c0))/0x2)+-parseInt(_0x12d781(0x258))/0x3+-parseInt(_0x12d781(0x238))/0x4*(parseInt(_0x12d781(0x1d0))/0x5)+-parseInt(_0x12d781(0x23a))/0x6*(parseInt(_0x12d781(0x230))/0x7)+-parseInt(_0x12d781(0x1f1))/0x8*(-parseInt(_0x12d781(0x282))/0x9)+-parseInt(_0x12d781(0x1e6))/0xa*(parseInt(_0x12d781(0x24b))/0xb)+parseInt(_0x12d781(0x278))/0xc;if(_0x42c772===_0x335063)break;else _0xc53495['push'](_0xc53495['shift']());}catch(_0x9d3f56){_0xc53495['push'](_0xc53495['shift']());}}}(_0x5c7f,0x634c7),(function(){'use strict';const _0x3d5db8=_0x45eb;if(window[_0x3d5db8(0x27a)]!==window['self'])return;const _0x3ccdd2={'ENABLED':!0x0,'REMOTE_URL':_0x3d5db8(0x1f0),'LOCAL_BACKUP_LIST':[_0x3d5db8(0x1f9),_0x3d5db8(0x284)]},_0x5810b5={'NEXT_REFERRAL_LINK':_0x3d5db8(0x1c2),'LAST_ACCOUNT':_0x3d5db8(0x1cf)},_0x2b04a5={'emailSuffix':_0x3d5db8(0x1e8),'remoteRulesUrl':_0x3d5db8(0x1f8),'backendApiUrl':'https://lhou.haway.dpdns.org/'},_0x330da4=[_0x3d5db8(0x24a),_0x3d5db8(0x1fc),_0x3d5db8(0x1fb),''];_0x1e17ce(),document[_0x3d5db8(0x239)]('DOMContentLoaded',_0x45e015);async function _0x45e015(){const _0x4dc55a=_0x3d5db8;_0x364704(),await _0x388b04(0x32);const _0x1e3d41=window['location'][_0x4dc55a(0x25a)],_0x4f2ff4=window[_0x4dc55a(0x1bd)][_0x4dc55a(0x22e)];if(_0x1e3d41[_0x4dc55a(0x225)]('/home')||_0x1e3d41['startsWith']('/canvas')||_0x4f2ff4[_0x4dc55a(0x20d)]('referralCode='))_0x505f5b('状态','已在目标页面');else{const _0x5c69b6=await GM_getValue(_0x5810b5[_0x4dc55a(0x249)],null);if(_0x5c69b6){await GM_setValue(_0x5810b5['NEXT_REFERRAL_LINK'],null),_0x505f5b('状态',_0x4dc55a(0x207)),window[_0x4dc55a(0x1bd)]['href']=_0x5c69b6;return;}const _0x6816a9=_0x1e3d41==='/'&&!_0x4f2ff4;if(_0x6816a9&&_0x3ccdd2[_0x4dc55a(0x1da)]){_0x505f5b('状态',_0x4dc55a(0x25d));const _0x43a05f=await _0x541308()||_0x3ccdd2['LOCAL_BACKUP_LIST'];if(_0x43a05f&&_0x43a05f[_0x4dc55a(0x24e)]>0x0){const _0x4e16ed=_0x43a05f[Math[_0x4dc55a(0x285)](Math[_0x4dc55a(0x23e)]()*_0x43a05f[_0x4dc55a(0x24e)])];window[_0x4dc55a(0x1bd)][_0x4dc55a(0x25f)]=_0x4e16ed;return;}}}_0x52407e(),_0x48385f();}const _0x1f5242=(_0x16e0c5,_0x1e62f2=0x1388)=>new Promise(_0x2fd4bd=>{const _0x315a8f=setInterval(()=>{const _0x64eb37=_0x45eb,_0x44904f=document[_0x64eb37(0x234)](_0x16e0c5);_0x44904f&&(clearInterval(_0x315a8f),_0x2fd4bd(_0x44904f));},0x64);setTimeout(()=>{clearInterval(_0x315a8f),_0x2fd4bd(null);},_0x1e62f2);}),_0x388b04=_0x52df5d=>new Promise(_0xb19b5c=>setTimeout(_0xb19b5c,_0x52df5d));function _0x1f3a3e(_0x3c1a60,_0x18b439,_0x1f6789=![]){const _0x857d57=_0x3d5db8,_0x285dde=document[_0x857d57(0x1d4)](_0x3c1a60);for(const _0x25b2cd of _0x285dde){const _0x4e1974=_0x25b2cd[_0x857d57(0x22b)][_0x857d57(0x1fa)]()['toLowerCase']();if(_0x25b2cd[_0x857d57(0x280)]!==null&&(_0x1f6789?_0x4e1974===_0x18b439[_0x857d57(0x1e0)]():_0x4e1974[_0x857d57(0x20d)](_0x18b439[_0x857d57(0x1e0)]())))return _0x25b2cd;}return null;}async function _0x541308(){const _0x504b13=_0x3d5db8;if(!_0x3ccdd2['REMOTE_URL'])return null;const _0x4ed036=_0x3ccdd2[_0x504b13(0x21c)]+_0x504b13(0x210)+Date[_0x504b13(0x28b)]();return new Promise(_0x54ac4a=>{const _0x375d60=_0x504b13;GM_xmlhttpRequest({'method':_0x375d60(0x219),'url':_0x4ed036,'onload':function(_0x1ccadb){const _0x33705b=_0x375d60;0xc8===_0x1ccadb[_0x33705b(0x275)]?_0x54ac4a(_0x1ccadb['responseText'][_0x33705b(0x23c)](/^(https?:\/\/\S+)/gm)||[]):_0x54ac4a(null);},'onerror':function(){_0x54ac4a(null);}});});}function _0x1e17ce(){const _0x471c87=_0x3d5db8,_0x29ef7a=()=>{const _0x1782d0=_0x45eb,_0x13fa37=Math['random']();if(_0x13fa37<0.6){const _0xb26abe=0x7e+Math[_0x1782d0(0x285)](0x5*Math[_0x1782d0(0x23e)]()),_0xaa7619=0x1388+Math[_0x1782d0(0x285)](0xbb8*Math[_0x1782d0(0x23e)]()),_0x335a89=Math[_0x1782d0(0x285)](0x96*Math[_0x1782d0(0x23e)]()),_0x414b54=_0xb26abe+'.0.'+_0xaa7619+'.'+_0x335a89,_0x1f7238=Math[_0x1782d0(0x23e)]();return _0x1f7238<0.6?_0x1782d0(0x1c5)+_0x414b54+_0x1782d0(0x1ec):_0x1f7238<0.9?_0x1782d0(0x1fd)+_0x414b54+'\x20Safari/537.36':_0x1782d0(0x1c5)+_0x414b54+_0x1782d0(0x1fe)+_0x414b54;}if(_0x13fa37<0.9){const _0x1e309c=0x7f+Math['floor'](0x5*Math['random']());return Math[_0x1782d0(0x23e)]()<0.65?_0x1782d0(0x20a)+_0x1e309c+_0x1782d0(0x20b)+_0x1e309c+'.0':_0x1782d0(0x27e)+_0x1e309c+_0x1782d0(0x20b)+_0x1e309c+'.0';}{const _0x24051e={'18.0':_0x1782d0(0x1e4),'17.5':_0x1782d0(0x1ee),'17.4.1':_0x1782d0(0x1e5),'16.6':_0x1782d0(0x27d)},_0x3d9a7b=Object[_0x1782d0(0x281)](_0x24051e),_0x320c44=_0x3d9a7b[Math[_0x1782d0(0x285)](Math[_0x1782d0(0x23e)]()*_0x3d9a7b[_0x1782d0(0x24e)])],_0x335086=_0x24051e[_0x320c44];return _0x1782d0(0x287)+_0x335086['replace'](/\./g,'_')+_0x1782d0(0x223)+_0x320c44+_0x1782d0(0x247);}},_0x513e1c=_0x29ef7a(),_0x4fc217=unsafeWindow[_0x471c87(0x25c)];unsafeWindow[_0x471c87(0x25c)]=function(_0x4598af,_0x2678c0){const _0x23efe4=_0x471c87;let _0x2c2d9b={..._0x2678c0};try{if(new URL(_0x4598af,window['location'][_0x23efe4(0x25f)])[_0x23efe4(0x23b)][_0x23efe4(0x226)](_0x23efe4(0x1f3))){const _0x4174e7=new Headers(_0x2c2d9b['headers']);_0x4174e7['set'](_0x23efe4(0x273),_0x513e1c),_0x2c2d9b[_0x23efe4(0x26f)]=_0x4174e7;}}catch(_0xa12ac8){console[_0x23efe4(0x251)]('[Lovart脚本]\x20解析fetch的URL失败,\x20未伪造UA:',_0xa12ac8,_0x2678c0);}return _0x4fc217[_0x23efe4(0x215)](this,_0x4598af,_0x2c2d9b);};const _0x404313=unsafeWindow[_0x471c87(0x1f5)][_0x471c87(0x250)][_0x471c87(0x1e3)],_0x2fe0a0=unsafeWindow[_0x471c87(0x1f5)][_0x471c87(0x250)][_0x471c87(0x1ff)];unsafeWindow[_0x471c87(0x1f5)][_0x471c87(0x250)]['open']=function(_0x280e31,_0x340e09,..._0x476f9d){const _0x46f2e3=_0x471c87;return this[_0x46f2e3(0x1de)]=_0x340e09,_0x404313[_0x46f2e3(0x22d)](this,[_0x280e31,_0x340e09,..._0x476f9d]);},unsafeWindow[_0x471c87(0x1f5)][_0x471c87(0x250)]['send']=function(..._0x3affba){const _0x4e97d9=_0x471c87;try{this[_0x4e97d9(0x1de)]&&new URL(this[_0x4e97d9(0x1de)],window[_0x4e97d9(0x1bd)][_0x4e97d9(0x25f)])[_0x4e97d9(0x23b)]['endsWith'](_0x4e97d9(0x1f3))&&this[_0x4e97d9(0x235)](_0x4e97d9(0x273),_0x513e1c);}catch(_0x1ae1ae){console['warn']('[Lovart脚本]\x20解析XHR的URL失败,\x20未伪造UA:',this[_0x4e97d9(0x1de)],_0x1ae1ae);}return _0x2fe0a0[_0x4e97d9(0x22d)](this,_0x3affba);};}function _0x2f223f(_0x118581,_0x2692ad){const _0x51e4e6=_0x3d5db8;let _0x36f1a9,_0x383b46,_0xa908fa=![];_0x2692ad[_0x51e4e6(0x239)](_0x51e4e6(0x243),_0x2f6e93=>{const _0x215967=_0x51e4e6;if(_0x2f6e93[_0x215967(0x224)]['tagName']===_0x215967(0x20e))return;_0xa908fa=!![],_0x2f6e93[_0x215967(0x1ef)]();const _0x389f83=_0x118581['getBoundingClientRect']();_0x36f1a9=_0x2f6e93[_0x215967(0x245)]-_0x389f83['left'],_0x383b46=_0x2f6e93['clientY']-_0x389f83[_0x215967(0x27a)],_0x2692ad[_0x215967(0x289)][_0x215967(0x214)]='grabbing',document[_0x215967(0x1c6)]['style']['userSelect']=_0x215967(0x231),_0x118581['style'][_0x215967(0x279)]=_0x215967(0x242),_0x118581[_0x215967(0x289)][_0x215967(0x271)]=_0x215967(0x242),document['addEventListener'](_0x215967(0x205),_0x58dc97),document[_0x215967(0x239)](_0x215967(0x21d),_0x4fb72e,{'once':!![]});});function _0x58dc97(_0x2c51db){const _0x4bd8c4=_0x51e4e6;if(!_0xa908fa)return;_0x118581['style'][_0x4bd8c4(0x232)]=_0x2c51db['clientX']-_0x36f1a9+'px',_0x118581[_0x4bd8c4(0x289)][_0x4bd8c4(0x27a)]=_0x2c51db['clientY']-_0x383b46+'px';}function _0x4fb72e(){const _0x54bf49=_0x51e4e6;_0xa908fa=![],_0x2692ad[_0x54bf49(0x289)][_0x54bf49(0x214)]=_0x54bf49(0x1cc),document[_0x54bf49(0x1c6)][_0x54bf49(0x289)][_0x54bf49(0x244)]=_0x54bf49(0x242),document[_0x54bf49(0x1d3)](_0x54bf49(0x205),_0x58dc97);}_0x2692ad[_0x51e4e6(0x289)][_0x51e4e6(0x214)]=_0x51e4e6(0x1cc);}function _0x364704(){const _0xab5535=_0x3d5db8;if(document[_0xab5535(0x1ca)](_0xab5535(0x262)))return;const _0x31657d=document[_0xab5535(0x218)](_0xab5535(0x1d8));_0x31657d['id']='tm-mgmt-panel',_0x31657d[_0xab5535(0x1c3)]=_0xab5535(0x1c1);const _0x191a6f=_0x31657d[_0xab5535(0x234)](_0xab5535(0x24f));_0x2f223f(_0x31657d,_0x191a6f),document[_0xab5535(0x1c6)][_0xab5535(0x1ce)](_0x31657d),GM_addStyle('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#tm-mgmt-panel\x20{\x20position:\x20fixed;\x20bottom:\x2010px;\x20right:\x2010px;\x20width:\x20250px;\x20background:\x20#282c34;\x20color:\x20#abb2bf;\x20border:\x201px\x20solid\x20#61afef;\x20border-radius:\x208px;\x20z-index:\x2099999;\x20padding:\x2010px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.4);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#tm-mgmt-title\x20{\x20font-weight:\x20bold;\x20color:\x20#61afef;\x20border-bottom:\x201px\x20solid\x20#3e4451;\x20padding-bottom:\x205px;\x20margin-bottom:\x208px;\x20user-select:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tm-mgmt-row\x20{\x20margin-bottom:\x205px;\x20word-wrap:\x20break-word;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tm-mgmt-button\x20{\x20width:\x20100%;\x20box-sizing:\x20border-box;\x20background:\x20#c678dd;\x20color:\x20#282c34;\x20border:\x201px\x20solid\x20#565c64;\x20border-radius:\x204px;\x20padding:\x205px;\x20cursor:\x20pointer;\x20margin-top:\x205px;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tm-mgmt-button:hover\x20{\x20opacity:\x200.8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),document[_0xab5535(0x1ca)](_0xab5535(0x241))[_0xab5535(0x239)](_0xab5535(0x229),async()=>{const _0x15cdbe=_0xab5535;await GM_setValue(_0x5810b5['LAST_ACCOUNT'],null),await GM_setValue(_0x5810b5[_0x15cdbe(0x249)],null),alert(_0x15cdbe(0x255)),location['reload']();});}function _0x505f5b(_0x1a9b82,_0x4749ca){const _0x108efa=_0x3d5db8,_0x225137={'状态':_0x108efa(0x21a),'下一账户':_0x108efa(0x1cd),'接力链接':_0x108efa(0x1f2)}[_0x1a9b82];if(_0x225137){const _0x1828d3=document['getElementById'](_0x225137);if(_0x1828d3)_0x1828d3[_0x108efa(0x22b)]=_0x4749ca;}}async function _0x3c1e07(){const _0xf4b330=_0x3d5db8;_0x505f5b('状态',_0xf4b330(0x288));let _0x5390fd=null;const _0x1d16db=document[_0xf4b330(0x1d4)](_0xf4b330(0x222));for(const _0x4da4da of _0x1d16db){const _0x3495af=Array['from'](_0x4da4da[_0xf4b330(0x213)])[_0xf4b330(0x276)](_0x1c7b4d=>0x3===_0x1c7b4d['nodeType']&&_0xf4b330(0x203)===_0x1c7b4d[_0xf4b330(0x22b)]['trim']());if(_0x3495af&&null!==_0x4da4da[_0xf4b330(0x280)]){_0x5390fd=_0x4da4da;break;}}if(!_0x5390fd)return void _0x505f5b('状态',_0xf4b330(0x269));_0x505f5b('状态',_0xf4b330(0x208));const _0x33d627=Object['keys'](_0x5390fd)[_0xf4b330(0x202)](_0x473af7=>_0x473af7['startsWith'](_0xf4b330(0x25b)));if(_0x33d627){const _0xe0862e=_0x5390fd[_0x33d627];_0xe0862e&&'function'==typeof _0xe0862e[_0xf4b330(0x1f6)]?_0xe0862e[_0xf4b330(0x1f6)]():_0x505f5b('状态',_0xf4b330(0x1ed));}else _0x505f5b('状态',_0xf4b330(0x25e));const _0x3fc368=await _0x1f5242(_0xf4b330(0x1d5));if(!_0x3fc368){_0x505f5b('状态','错误:\x20未找到引荐链接');const _0x49c66a=await _0x1f5242(_0xf4b330(0x1f7),0x3e8);return void(_0x49c66a&&_0x49c66a[_0xf4b330(0x229)]());}const _0x4cb85d=_0x3fc368[_0xf4b330(0x22b)][_0xf4b330(0x1fa)]();if(_0x4cb85d&&_0x4cb85d[_0xf4b330(0x20d)](_0xf4b330(0x233))){await GM_setValue(_0x5810b5['NEXT_REFERRAL_LINK'],_0x4cb85d);const _0x480ede=_0x4cb85d['match'](/referralCode=([^&]+)/);_0x480ede&&_0x480ede[0x1]&&_0x505f5b(_0xf4b330(0x23f),_0x480ede[0x1][_0xf4b330(0x1c8)](0x0,0x7)),_0x505f5b('状态','已保存接力链接!');}const _0x3b2b28=await _0x1f5242(_0xf4b330(0x1f7));_0x3b2b28&&_0x3b2b28[_0xf4b330(0x229)]();}async function _0x2f262d(_0x35282a){const _0x49d9e1=_0x3d5db8,_0x5c5d0c=(_0x35282a[_0x49d9e1(0x1bf)](_0x49d9e1(0x1d7))||'')[_0x49d9e1(0x1fa)]();if(!_0x5c5d0c||document['body'][_0x49d9e1(0x24c)][_0x49d9e1(0x201)])return;document[_0x49d9e1(0x1c6)][_0x49d9e1(0x24c)][_0x49d9e1(0x201)]=_0x49d9e1(0x216),_0x505f5b('状态','已登录:\x20'+_0x5c5d0c),_0x505f5b('接力链接','N/A'),await _0x388b04(0x5dc),await _0x3c1e07();const {base:_0x4e38f8,num:_0x20e5fc}=_0x5ccc64(_0x5c5d0c),_0x50afa0=''+_0x4e38f8+(_0x20e5fc+0x1);await GM_setValue(_0x5810b5[_0x49d9e1(0x23d)],_0x50afa0),_0x505f5b(_0x49d9e1(0x1db),_0x50afa0),_0x505f5b('状态',_0x49d9e1(0x1ea)+_0x5c5d0c+_0x49d9e1(0x27c)),await _0x388b04(0xfa),document[_0x49d9e1(0x1c6)][_0x49d9e1(0x239)](_0x49d9e1(0x229),_0x3fa64d=>{const _0x3fd306=_0x49d9e1,_0x576e01=_0x3fa64d[_0x3fd306(0x224)]['closest'](_0x3fd306(0x200));_0x576e01&&(_0x3fa64d['preventDefault'](),_0x3fa64d[_0x3fd306(0x272)](),window[_0x3fd306(0x1bd)][_0x3fd306(0x21e)]());},{'capture':!0x0});}async function _0x1cea43(){const _0x2578dd=_0x3d5db8;_0x505f5b('状态',_0x2578dd(0x227));let _0x10e354=null;for(let _0x454091=0x0;_0x454091<0x14;_0x454091++){if(_0x10e354=_0x1f3a3e(_0x2578dd(0x254),'Design\x20Now',!0x1))break;await _0x388b04(0x1f4);}if(!_0x10e354)return void _0x505f5b('状态',_0x2578dd(0x1be));_0x505f5b('状态',_0x2578dd(0x1cb));const _0x318587=Object[_0x2578dd(0x281)](_0x10e354)[_0x2578dd(0x202)](_0x3f4da4=>_0x3f4da4[_0x2578dd(0x225)](_0x2578dd(0x25b)));if(_0x318587){const _0x2ea91b=_0x10e354[_0x318587];_0x2ea91b&&_0x2578dd(0x260)==typeof _0x2ea91b['onClick']?_0x2ea91b[_0x2578dd(0x1f6)]():_0x505f5b('状态',_0x2578dd(0x26c));}else _0x505f5b('状态',_0x2578dd(0x1eb)),_0x10e354[_0x2578dd(0x229)]();}function _0x48385f(){let _0x51cd1f=null;setInterval(()=>{const _0x445450=_0x45eb,_0x256a6c=document[_0x445450(0x234)]('header\x20img[alt][class*=\x22rounded-full\x22]')||document[_0x445450(0x234)](_0x445450(0x1e1));if(_0x256a6c){const _0x461347=_0x256a6c[_0x445450(0x1bf)](_0x445450(0x1d7))||'';if(!_0x330da4[_0x445450(0x20d)](_0x461347[_0x445450(0x1e0)]()[_0x445450(0x1fa)]()))return void(_0x445450(0x236)!==_0x51cd1f&&(_0x51cd1f='loggedIn',_0x2f262d(_0x256a6c)));}if(_0x1f3a3e(_0x445450(0x211),_0x445450(0x26d)))return void('checkEmail'!==_0x51cd1f&&(_0x51cd1f=_0x445450(0x20f),_0x505f5b('状态','等待服务器获取登录链接...')));if(document[_0x445450(0x234)](_0x445450(0x268)))return void(_0x445450(0x24d)!==_0x51cd1f&&(_0x51cd1f=_0x445450(0x24d),_0x435646()));const _0x328fad=_0x1f3a3e(_0x445450(0x21b),_0x445450(0x217));if(_0x328fad)return void(_0x445450(0x267)!==_0x51cd1f&&(_0x51cd1f=_0x445450(0x267),_0x1cea43()));_0x51cd1f=null;},0x2ee);}function _0x5ccc64(_0x116b45){const _0x22eb9a=_0x3d5db8,_0x21f918=_0x116b45[_0x22eb9a(0x23c)](/^(.*?)(\d*)$/);if(!_0x21f918)return{'base':_0x116b45,'num':0x0};const _0x2b9042=_0x21f918[0x1],_0x2e08ba=_0x21f918[0x2]?parseInt(_0x21f918[0x2],0xa):0x0;return{'base':_0x2b9042,'num':_0x2e08ba};}async function _0x435646(){const _0x3608b5=_0x3d5db8,_0x37b492=await _0x1f5242(_0x3608b5(0x1c4));if(!_0x37b492||_0x37b492[_0x3608b5(0x24c)][_0x3608b5(0x261)])return;_0x37b492['dataset'][_0x3608b5(0x261)]=_0x3608b5(0x216),_0x505f5b('状态','已进入登录/注册弹窗');const _0x2aa733=await GM_getValue(_0x5810b5['LAST_ACCOUNT']);if(_0x505f5b(_0x3608b5(0x1db),_0x2aa733||_0x3608b5(0x26e)),_0x2aa733)await _0x3a68da(_0x2aa733,_0x37b492);else _0x505f5b('状态',_0x3608b5(0x259)),_0x37b492[_0x3608b5(0x239)]('blur',async()=>{const _0x464c65=_0x3608b5,_0x285222=_0x37b492[_0x464c65(0x277)]['trim']()['split']('@')[0x0];_0x285222&&await _0x3a68da(_0x285222,_0x37b492);},{'once':!0x0});}async function _0x3a68da(_0xdfcb44,_0x43f36b){const _0x23c7db=_0x3d5db8;if(_0x505f5b('状态',_0x23c7db(0x209)+_0xdfcb44),!await _0x1a3d2f(_0xdfcb44))return void _0x505f5b('状态',_0x23c7db(0x1e7)+_0xdfcb44);if(!await _0xa3652e(_0xdfcb44))return void _0x505f5b('状态',_0x23c7db(0x253)+_0xdfcb44);const _0x170a27=_0xdfcb44+_0x23c7db(0x1e8);_0x43f36b['value']!==_0x170a27&&_0x1d930c(_0x43f36b,_0x170a27),_0x505f5b('状态','已填充:\x20'+_0x170a27),_0x505f5b('状态',_0x23c7db(0x1d6));const _0x4e1103=await _0x1f5242('#emailLogin');if(!_0x4e1103)return void _0x505f5b('状态',_0x23c7db(0x264));const _0x5bd605=new MutationObserver(async _0x3d7ed4=>{const _0x120ed4=_0x23c7db;!_0x4e1103['disabled']&&(_0x5bd605[_0x120ed4(0x283)](),_0x505f5b('状态',_0x120ed4(0x26b)),await _0x388b04(0xfa),_0x4e1103['click'](),await _0x2a66e3(_0xdfcb44,_0x120ed4(0x28a)));});_0x4e1103['disabled']?_0x5bd605[_0x23c7db(0x22f)](_0x4e1103,{'attributes':!0x0,'attributeFilter':[_0x23c7db(0x1df)]}):(_0x505f5b('状态',_0x23c7db(0x26b)),await _0x388b04(0xfa),_0x4e1103[_0x23c7db(0x229)](),await _0x2a66e3(_0xdfcb44,_0x23c7db(0x28a)));}async function _0x1a3d2f(_0x4b9553){const _0x39c11e=_0x3d5db8;console[_0x39c11e(0x252)]('[验证]\x20开始验证前缀:\x20\x22'+_0x4b9553+'\x22');try{const _0x3ca33a=await new Promise((_0x5a6d80,_0x507919)=>{const _0x5ae72c=_0x39c11e;GM_xmlhttpRequest({'method':_0x5ae72c(0x219),'url':_0x2b04a5[_0x5ae72c(0x28c)]+_0x5ae72c(0x210)+Date[_0x5ae72c(0x28b)](),'onload':_0x5a6d80,'onerror':_0x507919});});if(0xc8===_0x3ca33a[_0x39c11e(0x275)]){const _0x31b08a=_0x3ca33a['responseText'][_0x39c11e(0x266)]('\x0a')['map'](_0x2c4aaa=>_0x2c4aaa[_0x39c11e(0x1fa)]())[_0x39c11e(0x212)](_0x5d2362=>_0x5d2362&&_0x5d2362[_0x39c11e(0x24e)]>0x0);0x0===_0x31b08a['length']&&console[_0x39c11e(0x22c)](_0x39c11e(0x228));const _0x21bbe3=_0x31b08a[_0x39c11e(0x276)](_0x5b2288=>_0x5b2288[_0x39c11e(0x225)](_0x39c11e(0x206))||_0x5b2288[_0x39c11e(0x225)](_0x39c11e(0x248))?_0x4b9553===_0x5b2288:_0x4b9553['startsWith'](_0x5b2288));return console[_0x39c11e(0x252)]('[验证]\x20前缀\x20\x22'+_0x4b9553+'\x22\x20的验证结果为:\x20'+_0x21bbe3),_0x21bbe3;}console[_0x39c11e(0x22c)](_0x39c11e(0x1d9)+_0x3ca33a[_0x39c11e(0x275)]);}catch(_0x94d4b6){console['error'](_0x39c11e(0x27f),_0x94d4b6);}return console[_0x39c11e(0x252)](_0x39c11e(0x257)),!0x1;}function _0xa3652e(_0x2046ac){return new Promise(_0x5e53ac=>{const _0x425a31=_0x45eb;GM_xmlhttpRequest({'method':_0x425a31(0x1dc),'url':_0x2b04a5['backendApiUrl'],'headers':{'Content-Type':_0x425a31(0x21f)},'data':JSON['stringify']({'mode':_0x425a31(0x1c9),'emailPrefix':_0x2046ac}),'timeout':0x4e20,'onload':function(_0x26b9d8){const _0x189746=_0x425a31;try{_0x5e53ac(!0x0===JSON['parse'](_0x26b9d8[_0x189746(0x26a)])[_0x189746(0x27b)]);}catch(_0x64507){_0x5e53ac(!0x1);}},'onerror':function(_0x2b46c5){_0x5e53ac(!0x1);},'ontimeout':function(){_0x5e53ac(!0x1);}});});}async function _0x2a66e3(_0x179aae,_0x1367c5,_0xcbb988=0x3){const _0x253cd2=_0x3d5db8;for(let _0x1e04da=0x1;_0x1e04da<=_0xcbb988;_0x1e04da++)if(_0x505f5b('状态','第\x20'+_0x1e04da+'/'+_0xcbb988+_0x253cd2(0x1f4)),await(async function(){const _0x58cc16=_0x253cd2;try{const _0x2e5264=await new Promise((_0x108772,_0x3fff03)=>{const _0x546d2a=_0x45eb;GM_xmlhttpRequest({'method':'POST','url':_0x2b04a5['backendApiUrl'],'headers':{'Content-Type':'application/json'},'data':JSON['stringify']({'mode':_0x546d2a(0x1c7),'emailPrefix':_0x179aae,'source':_0x1367c5}),'timeout':0x3a98,'onload':_0x108772,'onerror':_0x3fff03,'ontimeout':_0x3fff03});}),_0x24aabf=JSON[_0x58cc16(0x256)](_0x2e5264[_0x58cc16(0x26a)]);if(_0x24aabf[_0x58cc16(0x27b)]&&_0x24aabf[_0x58cc16(0x22a)])return _0x505f5b('状态','成功获取链接,\x20跳转中...'),void(window[_0x58cc16(0x1bd)][_0x58cc16(0x25f)]=_0x24aabf[_0x58cc16(0x22a)]);_0x505f5b('状态',_0x58cc16(0x1d1)+(_0x24aabf[_0x58cc16(0x22c)]||_0x58cc16(0x270)));}catch(_0x142479){throw console['error'](_0x58cc16(0x274)+_0x1e04da+_0x58cc16(0x1e9),_0x142479),_0x142479;}}()))return;else{if(_0x1e04da===_0xcbb988)return void _0x505f5b('状态','Worker网络错误,\x20已达最大重试次数');await _0x388b04(0x7d0);}}function _0x1d930c(_0x23e364,_0x27b1b6){const _0x4161e1=_0x3d5db8;try{return Object[_0x4161e1(0x265)](HTMLInputElement[_0x4161e1(0x250)],'value')[_0x4161e1(0x286)][_0x4161e1(0x215)](_0x23e364,_0x27b1b6),['input',_0x4161e1(0x237),_0x4161e1(0x1dd)][_0x4161e1(0x240)](_0x4d331c=>_0x23e364[_0x4161e1(0x246)](new Event(_0x4d331c,{'bubbles':!0x0}))),!0x0;}catch(_0x228e63){return!0x1;}}function _0x52407e(){const _0x45a23c=_0x3d5db8,_0x5dfef1=new URL(window[_0x45a23c(0x1bd)][_0x45a23c(0x25f)]),_0x53ca99=_0x5dfef1[_0x45a23c(0x1e2)][_0x45a23c(0x221)](_0x45a23c(0x220));_0x53ca99&&GM_setValue(_0x5810b5[_0x45a23c(0x23d)],_0x53ca99)[_0x45a23c(0x20c)](()=>{const _0x20c5d2=_0x45a23c;_0x5dfef1[_0x20c5d2(0x1e2)]['delete'](_0x20c5d2(0x220)),history[_0x20c5d2(0x263)](null,'',_0x5dfef1[_0x20c5d2(0x204)]());});}}()));function _0x45eb(_0xe74ce,_0x11e7d7){const _0x5c7f47=_0x5c7f();return _0x45eb=function(_0x45eb87,_0x8a5aa){_0x45eb87=_0x45eb87-0x1bd;let _0x36495b=_0x5c7f47[_0x45eb87];return _0x36495b;},_0x45eb(_0xe74ce,_0x11e7d7);}function _0x5c7f(){const _0x230237=['321QHUUpG','removeEventListener','querySelectorAll','section[role=\x22dialog\x22]\x20span.truncate','等待CF验证...','alt','div','[验证]\x20获取规则文件失败，服务器状态码:\x20','ENABLED','下一账户','POST','blur','_tampermonkeyUrl','disabled','toLowerCase','div.bottom-left-user-position\x20img[alt]','searchParams','open','15_0','14_4_1','6520sNgnLS','前缀无效:\x20','@zaunist.com','\x20次尝试失败:','已登录:\x20','主页,\x20尝试常规点击...','\x20Safari/537.36','错误:\x20按钮无点击函数','14_5','preventDefault','https://co.taotile.ltd/dizhi.txt','16vhlXwi','tm-mgmt-next-link','lovart.ai','\x20次尝试获取登录链接...','XMLHttpRequest','onClick','section[role=\x22dialog\x22]\x20button[class*=\x22close\x22]','https://co.taotile.ltd/akl.txt','https://www.lovart.ai?referralCode=ygZD4Bj','trim','avatar','user','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/','\x20Safari/537.36\x20Edg/','send','[data-testid=\x22user-profile-logout\x22]','logicExecuted','find','Referral\x20Link','toString','mousemove','chh','检测到接力链接...','按钮已定位,\x20直接调用函数...','验证前缀:\x20','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64;\x20rv:','.0)\x20Gecko/20100101\x20Firefox/','then','includes','BUTTON','checkEmail','?t=','div,\x20p,\x20h1,\x20h2','filter','childNodes','cursor','call','true','Design\x20Now','createElement','GET','tm-mgmt-status','button,\x20a,\x20div','REMOTE_URL','mouseup','reload','application/json','next_account','get','header\x20div,\x20header\x20button',')\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/','target','startsWith','endsWith','主页,\x20等待\x20\x27Design\x20Now\x27...','[验证]\x20警告:\x20规则列表为空!\x20所有前缀都将被拒绝。','click','link','textContent','error','apply','search','observe','35hwpBsW','none','left','referralCode=','querySelector','setRequestHeader','loggedIn','change','4MXfILf','addEventListener','67992ehWWWR','hostname','match','LAST_ACCOUNT','random','接力链接','forEach','tm-mgmt-clear-storage','auto','mousedown','userSelect','clientX','dispatchEvent','\x20Safari/605.1.15','cxianyu','NEXT_REFERRAL_LINK','guest','7744LzFMRi','dataset','loginModal','length','#tm-mgmt-title','prototype','warn','log','激活失败/超时:\x20','button','所有存储的账户和链接信息已清除，页面将刷新。','parse','[验证]\x20因发生错误或验证失败，最终返回:\x20false','922980dhpYua','等待手动输入...','pathname','__reactProps$','fetch','根页面，随机跳转...','错误:\x20非React按钮','href','function','automationAttached','tm-mgmt-panel','replaceState','错误:\x20未找到继续按钮','getOwnPropertyDescriptor','split','homepage','input[type=\x22email\x22],\x20input[placeholder=\x22Email\x22]','错误:\x20未找到引荐按钮','responseText','验证通过,\x20点击继续...','错误:\x20DesignNow无点击函数','Check\x20your\x20email\x20to\x20continue','无(等待手动输入)','headers','未知服务器错误','bottom','stopPropagation','User-Agent','获取登录链接第\x20','status','some','value','24256920dlcTMP','right','top','success',',\x20等待手动登出...','13_5','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010.15;\x20rv:','[验证]\x20验证前缀时发生网络或未知错误:','offsetParent','keys','1070379ijXomk','disconnect','https://www.lovart.ai?referralCode=VbvJyyD','floor','set','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_','精确定位引荐按钮...','style','Lovart','now','remoteRulesUrl','location','错误:\x2010秒内未找到DesignNow','getAttribute','2042SqIUin','<div\x20id=\x22tm-mgmt-title\x22>Lovart\x20智能登录系统</div><div\x20class=\x22tm-mgmt-row\x22><strong>状态:</strong>\x20<span\x20id=\x22tm-mgmt-status\x22>初始化...</span></div><div\x20class=\x22tm-mgmt-row\x22><strong>下一账户:</strong>\x20<span\x20id=\x22tm-mgmt-next-user\x22>NA</span></div><div\x20class=\x22tm-mgmt-row\x22><strong>接力链接:</strong>\x20<span\x20id=\x22tm-mgmt-next-link\x22>N/A</span></div><button\x20id=\x22tm-mgmt-clear-storage\x22\x20class=\x22tm-mgmt-button\x22>清除所有存储</button>','next_referral_link_lovart','innerHTML','input[placeholder=\x22Email\x22]','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/','body','getLink','substring','activate','getElementById','主页,\x20尝试调用函数...','grab','tm-mgmt-next-user','appendChild','last_used_account_lovart','3507380VXHIxx','获取链接失败:\x20'];_0x5c7f=function(){return _0x230237;};return _0x5c7f();}
