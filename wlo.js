// ==UserScript==
// @name         Lovart登录系统
// @namespace    http://tampermonkey.net/
// @version      1.26
// @description
// @author       haway
// @match        *://*.lovart.ai/*
// @grant        GM_xmlhttpRequest
// @grant        GM_notification
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        GM_addStyle
// @grant        unsafeWindow
// @connect      lhou.haway.dpdns.org
// @connect      co.taotile.ltd
// @run-at       document-start
// @updateURL    https://co.taotile.ltd/wlo.js
// @downloadURL  https://co.taotile.ltd/wlo.js
// ==/UserScript==
(function(_0x3ef027,_0x241eca){const _0x164421=_0x3a76,_0x5db815=_0x3ef027();while(!![]){try{const _0x4fe6c8=-parseInt(_0x164421(0x10a))/0x1*(parseInt(_0x164421(0xaf))/0x2)+parseInt(_0x164421(0xfe))/0x3+parseInt(_0x164421(0x134))/0x4*(-parseInt(_0x164421(0x11c))/0x5)+-parseInt(_0x164421(0x11e))/0x6*(-parseInt(_0x164421(0x15e))/0x7)+parseInt(_0x164421(0x12b))/0x8*(-parseInt(_0x164421(0xe9))/0x9)+-parseInt(_0x164421(0x16e))/0xa+parseInt(_0x164421(0x145))/0xb;if(_0x4fe6c8===_0x241eca)break;else _0x5db815['push'](_0x5db815['shift']());}catch(_0x1c9f1b){_0x5db815['push'](_0x5db815['shift']());}}}(_0x94b0,0x899ed),(function(){'use strict';const _0x2c9a7a=_0x3a76;if(window[_0x2c9a7a(0xa6)]!==window[_0x2c9a7a(0xb7)])return;const _0x3f423f={'ENABLED':!0x0,'REMOTE_URL':_0x2c9a7a(0x12e),'LOCAL_BACKUP_LIST':[_0x2c9a7a(0x161),'https://www.lovart.ai?referralCode=358bzLA']},_0x18c1e5={'NEXT_REFERRAL_LINK':_0x2c9a7a(0xcd),'LAST_ACCOUNT':'last_used_account_lovart'},_0x3647bd={'emailSuffix':'@mdzz.uk','remoteRulesUrl':_0x2c9a7a(0xbd),'backendApiUrl':_0x2c9a7a(0x127)},_0x10e590=[_0x2c9a7a(0xd3),_0x2c9a7a(0xbb),_0x2c9a7a(0x11f),''];_0x675ded(),document[_0x2c9a7a(0xce)]('DOMContentLoaded',_0x37a5f3);async function _0x37a5f3(){const _0x408e97=_0x2c9a7a;_0x2fab84(),await _0x1e8a26(0x32);const _0x101474=window[_0x408e97(0x169)][_0x408e97(0x149)],_0x11b4d3=window['location'][_0x408e97(0x166)];if(_0x101474['startsWith'](_0x408e97(0x13d))||_0x101474['startsWith'](_0x408e97(0xa2))||_0x11b4d3[_0x408e97(0xae)](_0x408e97(0x9f)))_0x5d58cb('状态',_0x408e97(0x16f));else{const _0x276311=await GM_getValue(_0x18c1e5[_0x408e97(0x124)],null);if(_0x276311){await GM_setValue(_0x18c1e5[_0x408e97(0x124)],null),_0x5d58cb('状态',_0x408e97(0xfd)),window[_0x408e97(0x169)][_0x408e97(0xf4)]=_0x276311;return;}const _0x4976df=_0x101474==='/'&&!_0x11b4d3;if(_0x4976df&&_0x3f423f[_0x408e97(0x119)]){_0x5d58cb('状态','根页面，随机跳转...');const _0x3346d6=await _0x39f6e6()||_0x3f423f['LOCAL_BACKUP_LIST'];if(_0x3346d6&&_0x3346d6[_0x408e97(0xda)]>0x0){const _0x5d3fd9=_0x3346d6[Math[_0x408e97(0x104)](Math[_0x408e97(0x139)]()*_0x3346d6[_0x408e97(0xda)])];window[_0x408e97(0x169)][_0x408e97(0xf4)]=_0x5d3fd9;return;}}}_0x15a22f(),_0xe4411e();}const _0x54d0ab=(_0x5c0136,_0x3b18d4=0x1388)=>new Promise(_0x399ad6=>{const _0x25ade2=setInterval(()=>{const _0x244973=_0x3a76,_0x6f57bb=document[_0x244973(0x159)](_0x5c0136);_0x6f57bb&&(clearInterval(_0x25ade2),_0x399ad6(_0x6f57bb));},0x64);setTimeout(()=>{clearInterval(_0x25ade2),_0x399ad6(null);},_0x3b18d4);}),_0x1e8a26=_0x125038=>new Promise(_0x32ea8d=>setTimeout(_0x32ea8d,_0x125038));function _0x57fb5f(_0x1ead16,_0x5f6f98,_0x5a2634=![]){const _0x52cecd=_0x2c9a7a,_0x1ce6f1=document[_0x52cecd(0xe3)](_0x1ead16);for(const _0x3b1735 of _0x1ce6f1){const _0xd9f63b=_0x3b1735[_0x52cecd(0xe6)][_0x52cecd(0xf1)]()[_0x52cecd(0x133)]();if(_0x3b1735[_0x52cecd(0x110)]!==null&&(_0x5a2634?_0xd9f63b===_0x5f6f98['toLowerCase']():_0xd9f63b[_0x52cecd(0xae)](_0x5f6f98['toLowerCase']())))return _0x3b1735;}return null;}async function _0x39f6e6(){const _0x412504=_0x2c9a7a;if(!_0x3f423f['REMOTE_URL'])return null;const _0x59fe82=_0x3f423f[_0x412504(0xcc)]+_0x412504(0xfc)+Date['now']();return new Promise(_0xbf5732=>{const _0x252778=_0x412504;GM_xmlhttpRequest({'method':_0x252778(0x106),'url':_0x59fe82,'onload':function(_0x3fbe36){const _0x59cfc5=_0x252778;0xc8===_0x3fbe36[_0x59cfc5(0xb2)]?_0xbf5732(_0x3fbe36[_0x59cfc5(0xb6)][_0x59cfc5(0x165)](/^(https?:\/\/\S+)/gm)||[]):_0xbf5732(null);},'onerror':function(){_0xbf5732(null);}});});}function _0x675ded(){const _0x8b1ff7=_0x2c9a7a,_0x17e264=()=>{const _0x2b1960=_0x3a76,_0x3056b2=Math[_0x2b1960(0x139)]();if(_0x3056b2<0.6){const _0x1198ef=0x7e+Math[_0x2b1960(0x104)](0x5*Math['random']()),_0x4754f8=0x1388+Math[_0x2b1960(0x104)](0xbb8*Math[_0x2b1960(0x139)]()),_0x25afa1=Math[_0x2b1960(0x104)](0x96*Math[_0x2b1960(0x139)]()),_0x3094ea=_0x1198ef+_0x2b1960(0xb0)+_0x4754f8+'.'+_0x25afa1,_0x4977e1=Math[_0x2b1960(0x139)]();return _0x4977e1<0.6?'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/'+_0x3094ea+_0x2b1960(0x109):_0x4977e1<0.9?_0x2b1960(0x138)+_0x3094ea+_0x2b1960(0x109):_0x2b1960(0x102)+_0x3094ea+_0x2b1960(0xba)+_0x3094ea;}if(_0x3056b2<0.9){const _0x271117=0x7f+Math[_0x2b1960(0x104)](0x5*Math[_0x2b1960(0x139)]());return Math[_0x2b1960(0x139)]()<0.65?_0x2b1960(0xc2)+_0x271117+_0x2b1960(0x111)+_0x271117+'.0':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010.15;\x20rv:'+_0x271117+_0x2b1960(0x111)+_0x271117+'.0';}{const _0x896750={'18.0':_0x2b1960(0xbc),'17.5':_0x2b1960(0x148),'17.4.1':_0x2b1960(0x172),'16.6':_0x2b1960(0x131)},_0x286be9=Object['keys'](_0x896750),_0x2e6520=_0x286be9[Math[_0x2b1960(0x104)](Math['random']()*_0x286be9['length'])],_0x35c2bf=_0x896750[_0x2e6520];return'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_'+_0x35c2bf[_0x2b1960(0xad)](/\./g,'_')+_0x2b1960(0xcf)+_0x2e6520+_0x2b1960(0xa8);}},_0x1ed3d9=_0x17e264(),_0x2e3a88=unsafeWindow[_0x8b1ff7(0xef)];unsafeWindow['fetch']=function(_0x3e6ab8,_0x2ebcbb){const _0x4effa1=_0x8b1ff7;let _0x3bb422={..._0x2ebcbb};try{if(new URL(_0x3e6ab8,window[_0x4effa1(0x169)]['href'])[_0x4effa1(0xfb)][_0x4effa1(0xa7)](_0x4effa1(0x10c))){const _0x4c3bf7=new Headers(_0x3bb422[_0x4effa1(0x105)]);_0x4c3bf7[_0x4effa1(0x10d)]('User-Agent',_0x1ed3d9),_0x3bb422['headers']=_0x4c3bf7;}}catch(_0xfe1200){console[_0x4effa1(0x9b)](_0x4effa1(0xde),_0xfe1200,_0x2ebcbb);}return _0x2e3a88['call'](this,_0x3e6ab8,_0x3bb422);};const _0xf573d5=unsafeWindow['XMLHttpRequest']['prototype'][_0x8b1ff7(0x158)],_0x599eea=unsafeWindow[_0x8b1ff7(0xaa)][_0x8b1ff7(0xeb)][_0x8b1ff7(0xf5)];unsafeWindow[_0x8b1ff7(0xaa)]['prototype'][_0x8b1ff7(0x158)]=function(_0x2ac978,_0x4ada30,..._0x57d896){const _0x52d502=_0x8b1ff7;return this[_0x52d502(0xd0)]=_0x4ada30,_0xf573d5[_0x52d502(0x122)](this,[_0x2ac978,_0x4ada30,..._0x57d896]);},unsafeWindow[_0x8b1ff7(0xaa)]['prototype']['send']=function(..._0x47b99f){const _0x87a785=_0x8b1ff7;try{this['_tampermonkeyUrl']&&new URL(this['_tampermonkeyUrl'],window[_0x87a785(0x169)]['href'])[_0x87a785(0xfb)][_0x87a785(0xa7)]('lovart.ai')&&this[_0x87a785(0xab)](_0x87a785(0x128),_0x1ed3d9);}catch(_0x2a1d8f){console[_0x87a785(0x9b)](_0x87a785(0x13c),this[_0x87a785(0xd0)],_0x2a1d8f);}return _0x599eea[_0x87a785(0x122)](this,_0x47b99f);};}function _0xb6412c(_0x935f77,_0x1ddc56){const _0x5d0771=_0x2c9a7a;let _0x1a59ef,_0x460df1,_0x1c36f1=![];_0x1ddc56[_0x5d0771(0xce)](_0x5d0771(0x125),_0x3a7e0e=>{const _0xc8c69e=_0x5d0771;if(_0x3a7e0e['target']['tagName']===_0xc8c69e(0x146))return;_0x1c36f1=!![],_0x3a7e0e[_0xc8c69e(0xbe)]();const _0x2b829e=_0x935f77[_0xc8c69e(0x114)]();_0x1a59ef=_0x3a7e0e[_0xc8c69e(0x12a)]-_0x2b829e[_0xc8c69e(0xb5)],_0x460df1=_0x3a7e0e[_0xc8c69e(0x168)]-_0x2b829e[_0xc8c69e(0xa6)],_0x1ddc56[_0xc8c69e(0xb9)][_0xc8c69e(0x156)]=_0xc8c69e(0x170),document['body'][_0xc8c69e(0xb9)][_0xc8c69e(0x13a)]=_0xc8c69e(0xe5),_0x935f77[_0xc8c69e(0xb9)][_0xc8c69e(0xdd)]=_0xc8c69e(0x164),_0x935f77[_0xc8c69e(0xb9)][_0xc8c69e(0x14f)]=_0xc8c69e(0x164),document[_0xc8c69e(0xce)](_0xc8c69e(0xd1),_0x361ea5),document[_0xc8c69e(0xce)](_0xc8c69e(0x16b),_0xe2a7b1,{'once':!![]});});function _0x361ea5(_0x2f5335){const _0xba54e9=_0x5d0771;if(!_0x1c36f1)return;_0x935f77[_0xba54e9(0xb9)]['left']=_0x2f5335[_0xba54e9(0x12a)]-_0x1a59ef+'px',_0x935f77[_0xba54e9(0xb9)]['top']=_0x2f5335[_0xba54e9(0x168)]-_0x460df1+'px';}function _0xe2a7b1(){const _0x25ad82=_0x5d0771;_0x1c36f1=![],_0x1ddc56[_0x25ad82(0xb9)][_0x25ad82(0x156)]=_0x25ad82(0xf8),document[_0x25ad82(0xe1)][_0x25ad82(0xb9)]['userSelect']=_0x25ad82(0x164),document[_0x25ad82(0x10e)](_0x25ad82(0xd1),_0x361ea5);}_0x1ddc56[_0x5d0771(0xb9)][_0x5d0771(0x156)]=_0x5d0771(0xf8);}function _0x2fab84(){const _0x18246f=_0x2c9a7a;if(document[_0x18246f(0x107)]('tm-mgmt-panel'))return;const _0x46b351=document[_0x18246f(0xd7)]('div');_0x46b351['id']='tm-mgmt-panel',_0x46b351[_0x18246f(0x11b)]=_0x18246f(0x132);const _0x4fc27b=_0x46b351[_0x18246f(0x159)](_0x18246f(0xca));_0xb6412c(_0x46b351,_0x4fc27b),document['body'][_0x18246f(0x120)](_0x46b351),GM_addStyle(_0x18246f(0x157)),document[_0x18246f(0x107)](_0x18246f(0xdc))[_0x18246f(0xce)](_0x18246f(0xb3),async()=>{const _0x7e588c=_0x18246f;await GM_setValue(_0x18c1e5[_0x7e588c(0x15d)],null),await GM_setValue(_0x18c1e5[_0x7e588c(0x124)],null),alert(_0x7e588c(0x15b)),location[_0x7e588c(0x112)]();});}function _0x5d58cb(_0x182e30,_0x100f43){const _0x5cda1a=_0x2c9a7a,_0x137828={'状态':'tm-mgmt-status','下一账户':'tm-mgmt-next-user','接力链接':_0x5cda1a(0x14c)}[_0x182e30];if(_0x137828){const _0x51c173=document[_0x5cda1a(0x107)](_0x137828);if(_0x51c173)_0x51c173[_0x5cda1a(0xe6)]=_0x100f43;}}async function _0x43d90f(){const _0x29aec7=_0x2c9a7a;_0x5d58cb('状态',_0x29aec7(0x14a));let _0xf63135=null;const _0x3f2a72=document[_0x29aec7(0xe3)](_0x29aec7(0x12f));for(const _0x31f298 of _0x3f2a72){const _0x2967b7=Array['from'](_0x31f298[_0x29aec7(0x141)])['some'](_0x35b6c6=>0x3===_0x35b6c6[_0x29aec7(0x123)]&&'Referral\x20Link'===_0x35b6c6[_0x29aec7(0xe6)]['trim']());if(_0x2967b7&&null!==_0x31f298[_0x29aec7(0x110)]){_0xf63135=_0x31f298;break;}}if(!_0xf63135)return void _0x5d58cb('状态',_0x29aec7(0xa9));_0x5d58cb('状态',_0x29aec7(0x115));const _0x5b74a8=Object[_0x29aec7(0x167)](_0xf63135)[_0x29aec7(0xc6)](_0x110bf0=>_0x110bf0[_0x29aec7(0x150)](_0x29aec7(0x144)));if(_0x5b74a8){const _0x56aa0b=_0xf63135[_0x5b74a8];_0x56aa0b&&_0x29aec7(0xdf)==typeof _0x56aa0b[_0x29aec7(0x10f)]?_0x56aa0b[_0x29aec7(0x10f)]():_0x5d58cb('状态',_0x29aec7(0xff));}else _0x5d58cb('状态','错误:\x20非React按钮');const _0x2e7fc5=await _0x54d0ab(_0x29aec7(0x153));if(!_0x2e7fc5){_0x5d58cb('状态','错误:\x20未找到引荐链接');const _0x2454a2=await _0x54d0ab(_0x29aec7(0x9e),0x3e8);return void(_0x2454a2&&_0x2454a2['click']());}const _0x4f423c=_0x2e7fc5[_0x29aec7(0xe6)]['trim']();if(_0x4f423c&&_0x4f423c['includes'](_0x29aec7(0x9f))){await GM_setValue(_0x18c1e5[_0x29aec7(0x124)],_0x4f423c);const _0x5b0a6d=_0x4f423c[_0x29aec7(0x165)](/referralCode=([^&]+)/);_0x5b0a6d&&_0x5b0a6d[0x1]&&_0x5d58cb('接力链接',_0x5b0a6d[0x1][_0x29aec7(0x143)](0x0,0x7)),_0x5d58cb('状态',_0x29aec7(0xf2));}const _0x4037cb=await _0x54d0ab('section[role=\x22dialog\x22]\x20button[class*=\x22close\x22]');_0x4037cb&&_0x4037cb['click']();}async function _0x495ca1(_0x5d0944){const _0x699993=_0x2c9a7a,_0x2df348=(_0x5d0944['getAttribute'](_0x699993(0xc3))||'')[_0x699993(0xf1)]();if(!_0x2df348||document[_0x699993(0xe1)][_0x699993(0xa5)][_0x699993(0xd8)])return;document[_0x699993(0xe1)][_0x699993(0xa5)][_0x699993(0xd8)]=_0x699993(0xd9),_0x5d58cb('状态',_0x699993(0x163)+_0x2df348),_0x5d58cb(_0x699993(0xb1),'N/A'),await _0x1e8a26(0x5dc),await _0x43d90f();const {base:_0x146473,num:_0xa2764f}=_0x2de7bc(_0x2df348),_0x2093fc=''+_0x146473+(_0xa2764f+0x1);await GM_setValue(_0x18c1e5[_0x699993(0x15d)],_0x2093fc),_0x5d58cb(_0x699993(0x16d),_0x2093fc),_0x5d58cb('状态',_0x699993(0x163)+_0x2df348+_0x699993(0xc9)),await _0x1e8a26(0xfa),document[_0x699993(0xe1)][_0x699993(0xce)]('click',_0xb90cf2=>{const _0x333fa9=_0x699993,_0xfa1f5b=_0xb90cf2[_0x333fa9(0x155)][_0x333fa9(0x101)](_0x333fa9(0x113));_0xfa1f5b&&(_0xb90cf2[_0x333fa9(0xbe)](),_0xb90cf2[_0x333fa9(0x14d)](),window['location'][_0x333fa9(0x112)]());},{'capture':!0x0});}async function _0x1da923(){const _0x2d4d71=_0x2c9a7a;_0x5d58cb('状态',_0x2d4d71(0xcb));let _0x105edd=null;for(let _0x337848=0x0;_0x337848<0x14;_0x337848++){if(_0x105edd=_0x57fb5f(_0x2d4d71(0x103),_0x2d4d71(0xa3),!0x1))break;await _0x1e8a26(0x1f4);}if(!_0x105edd)return void _0x5d58cb('状态','错误:\x2010秒内未找到DesignNow');_0x5d58cb('状态',_0x2d4d71(0x171));const _0x5b6a4c=Object['keys'](_0x105edd)['find'](_0x13d65d=>_0x13d65d[_0x2d4d71(0x150)](_0x2d4d71(0x144)));if(_0x5b6a4c){const _0x183dcf=_0x105edd[_0x5b6a4c];_0x183dcf&&'function'==typeof _0x183dcf[_0x2d4d71(0x10f)]?_0x183dcf[_0x2d4d71(0x10f)]():_0x5d58cb('状态',_0x2d4d71(0x10b));}else _0x5d58cb('状态',_0x2d4d71(0x13b)),_0x105edd[_0x2d4d71(0xb3)]();}function _0xe4411e(){let _0x11cb7d=null;setInterval(()=>{const _0x299e66=_0x3a76,_0x27bb74=document[_0x299e66(0x159)](_0x299e66(0xdb))||document[_0x299e66(0x159)](_0x299e66(0x126));if(_0x27bb74){const _0x2af26e=_0x27bb74['getAttribute']('alt')||'';if(!_0x10e590[_0x299e66(0xae)](_0x2af26e['toLowerCase']()[_0x299e66(0xf1)]()))return void(_0x299e66(0xd4)!==_0x11cb7d&&(_0x11cb7d='loggedIn',_0x495ca1(_0x27bb74)));}if(_0x57fb5f(_0x299e66(0x11d),_0x299e66(0xe4)))return void('checkEmail'!==_0x11cb7d&&(_0x11cb7d=_0x299e66(0xd6),_0x5d58cb('状态',_0x299e66(0x137))));if(document[_0x299e66(0x159)](_0x299e66(0xfa)))return void(_0x299e66(0x13e)!==_0x11cb7d&&(_0x11cb7d=_0x299e66(0x13e),_0x45e6fc()));const _0x384c7a=_0x57fb5f(_0x299e66(0x118),'Design\x20Now');if(_0x384c7a)return void(_0x299e66(0x13f)!==_0x11cb7d&&(_0x11cb7d='homepage',_0x1da923()));_0x11cb7d=null;},0x2ee);}function _0x2de7bc(_0x5b0a49){const _0x4bad0e=_0x2c9a7a,_0x243e1d=_0x5b0a49[_0x4bad0e(0x165)](/^(.*?)(\d*)$/);if(!_0x243e1d)return{'base':_0x5b0a49,'num':0x0};const _0x26d8c2=_0x243e1d[0x1],_0x1dd977=_0x243e1d[0x2]?parseInt(_0x243e1d[0x2],0xa):0x0;return{'base':_0x26d8c2,'num':_0x1dd977};}async function _0x45e6fc(){const _0x38dfa6=_0x2c9a7a,_0x52a070=await _0x54d0ab('input[placeholder=\x22Email\x22]');if(!_0x52a070||_0x52a070[_0x38dfa6(0xa5)][_0x38dfa6(0xa0)])return;_0x52a070['dataset']['automationAttached']=_0x38dfa6(0xd9),_0x5d58cb('状态',_0x38dfa6(0x135));const _0x2a1a9a=await GM_getValue(_0x18c1e5[_0x38dfa6(0x15d)]);if(_0x5d58cb(_0x38dfa6(0x16d),_0x2a1a9a||_0x38dfa6(0xe7)),_0x2a1a9a)await _0x4476ac(_0x2a1a9a,_0x52a070);else _0x5d58cb('状态','等待手动输入...'),_0x52a070[_0x38dfa6(0xce)](_0x38dfa6(0xc4),async()=>{const _0x2e0e2b=_0x52a070['value']['trim']()['split']('@')[0x0];_0x2e0e2b&&await _0x4476ac(_0x2e0e2b,_0x52a070);},{'once':!0x0});}async function _0x4476ac(_0x28c80a,_0x28d390){const _0x1fe4c7=_0x2c9a7a;if(_0x5d58cb('状态',_0x1fe4c7(0x152)+_0x28c80a),!await _0x284735(_0x28c80a))return void _0x5d58cb('状态',_0x1fe4c7(0x147)+_0x28c80a);if(!await _0x211cd4(_0x28c80a))return void _0x5d58cb('状态',_0x1fe4c7(0xf7)+_0x28c80a);const _0x208260=_0x28c80a+_0x1fe4c7(0xe2);_0x28d390[_0x1fe4c7(0xa4)]!==_0x208260&&_0x258a3a(_0x28d390,_0x208260),_0x5d58cb('状态',_0x1fe4c7(0x9c)+_0x208260),_0x5d58cb('状态','等待CF验证...');const _0x49ccfc=await _0x54d0ab(_0x1fe4c7(0x15f));if(!_0x49ccfc)return void _0x5d58cb('状态',_0x1fe4c7(0x162));const _0x1f6b01=new MutationObserver(async _0x11a6be=>{const _0x3be16e=_0x1fe4c7;!_0x49ccfc[_0x3be16e(0xf0)]&&(_0x1f6b01[_0x3be16e(0x129)](),_0x5d58cb('状态',_0x3be16e(0xc7)),await _0x1e8a26(0xfa),_0x49ccfc[_0x3be16e(0xb3)](),await _0x5677a4(_0x28c80a,_0x3be16e(0xc5)));});_0x49ccfc['disabled']?_0x1f6b01[_0x1fe4c7(0xac)](_0x49ccfc,{'attributes':!0x0,'attributeFilter':[_0x1fe4c7(0xf0)]}):(_0x5d58cb('状态',_0x1fe4c7(0xc7)),await _0x1e8a26(0xfa),_0x49ccfc[_0x1fe4c7(0xb3)](),await _0x5677a4(_0x28c80a,'Lovart'));}async function _0x284735(_0x5c92ff){const _0x24ed6=_0x2c9a7a;console[_0x24ed6(0xb4)](_0x24ed6(0xe8)+_0x5c92ff+'\x22');try{const _0xf56806=await new Promise((_0x24be48,_0x13c583)=>{const _0xc80f2a=_0x24ed6;GM_xmlhttpRequest({'method':_0xc80f2a(0x106),'url':_0x3647bd[_0xc80f2a(0xea)]+_0xc80f2a(0xfc)+Date[_0xc80f2a(0xd2)](),'onload':_0x24be48,'onerror':_0x13c583});});if(0xc8===_0xf56806['status']){const _0x4696a0=_0xf56806[_0x24ed6(0xb6)][_0x24ed6(0x140)]('\x0a')[_0x24ed6(0x136)](_0x286b8d=>_0x286b8d[_0x24ed6(0xf1)]())[_0x24ed6(0x160)](_0x3712f5=>_0x3712f5&&_0x3712f5['length']>0x0);0x0===_0x4696a0['length']&&console[_0x24ed6(0x130)](_0x24ed6(0xec));const _0x2dabee=_0x4696a0[_0x24ed6(0xb8)](_0x2ef067=>_0x2ef067[_0x24ed6(0x150)](_0x24ed6(0xa1))||_0x2ef067[_0x24ed6(0x150)](_0x24ed6(0x16a))?_0x5c92ff===_0x2ef067:_0x5c92ff[_0x24ed6(0x150)](_0x2ef067));return console[_0x24ed6(0xb4)]('[验证]\x20前缀\x20\x22'+_0x5c92ff+_0x24ed6(0xf3)+_0x2dabee),_0x2dabee;}console[_0x24ed6(0x130)](_0x24ed6(0x12c)+_0xf56806[_0x24ed6(0xb2)]);}catch(_0x438b42){console[_0x24ed6(0x130)](_0x24ed6(0xc8),_0x438b42);}return console[_0x24ed6(0xb4)](_0x24ed6(0xee)),!0x1;}function _0x211cd4(_0xf88572){return new Promise(_0x2e3b37=>{const _0x33301d=_0x3a76;GM_xmlhttpRequest({'method':_0x33301d(0xc0),'url':_0x3647bd[_0x33301d(0xbf)],'headers':{'Content-Type':_0x33301d(0xed)},'data':JSON[_0x33301d(0x100)]({'mode':_0x33301d(0x14b),'emailPrefix':_0xf88572}),'timeout':0x4e20,'onload':function(_0x32c0a4){const _0x24f5e1=_0x33301d;try{_0x2e3b37(!0x0===JSON[_0x24f5e1(0x9d)](_0x32c0a4[_0x24f5e1(0xb6)])['success']);}catch(_0x1828b3){_0x2e3b37(!0x1);}},'onerror':function(_0xcf61fe){_0x2e3b37(!0x1);},'ontimeout':function(){_0x2e3b37(!0x1);}});});}async function _0x5677a4(_0x5962d9,_0x27e9ce,_0x4310e1=0x3){const _0x3d5b4b=_0x2c9a7a;for(let _0x294710=0x1;_0x294710<=_0x4310e1;_0x294710++){_0x5d58cb('状态','第\x20'+_0x294710+'/'+_0x4310e1+'\x20次尝试获取登录链接...');let _0x3b4241=null,_0xc08078=![];_0x3b4241=setTimeout(()=>{const _0x3bb9bd=_0x3a76;if(_0xc08078)return;const _0x13279b=_0x57fb5f(_0x3bb9bd(0x103),_0x3bb9bd(0x142));_0x13279b&&(_0x5d58cb('状态',_0x3bb9bd(0x14e)),_0x13279b[_0x3bb9bd(0xb3)]());},0x61a8);try{const _0x184f09=await new Promise((_0x14d1f2,_0x86fc4)=>{const _0x23ed22=_0x3a76;GM_xmlhttpRequest({'method':_0x23ed22(0xc0),'url':_0x3647bd[_0x23ed22(0xbf)],'headers':{'Content-Type':_0x23ed22(0xed)},'data':JSON[_0x23ed22(0x100)]({'mode':'getLink','emailPrefix':_0x5962d9,'source':_0x27e9ce}),'timeout':0xafc8,'onload':_0x14d1f2,'onerror':_0x86fc4,'ontimeout':_0x86fc4});});_0xc08078=!![],clearTimeout(_0x3b4241);const _0x57078e=JSON[_0x3d5b4b(0x9d)](_0x184f09[_0x3d5b4b(0xb6)]);if(_0x57078e['success']&&_0x57078e[_0x3d5b4b(0x16c)]){_0x5d58cb('状态',_0x3d5b4b(0x121)),window[_0x3d5b4b(0x169)][_0x3d5b4b(0xf4)]=_0x57078e[_0x3d5b4b(0x16c)];return;}else{_0x5d58cb('状态',_0x3d5b4b(0x15c)+(_0x57078e[_0x3d5b4b(0x130)]||_0x3d5b4b(0x151)));return;}}catch(_0xb947bf){_0xc08078=!![],clearTimeout(_0x3b4241),console[_0x3d5b4b(0x130)]('获取登录链接第\x20'+_0x294710+_0x3d5b4b(0x154),_0xb947bf),_0x294710===_0x4310e1?_0x5d58cb('状态',_0x3d5b4b(0x116)):await _0x1e8a26(0x7d0);}}}function _0x258a3a(_0x1409e5,_0x1ae6a4){const _0x204ded=_0x2c9a7a;try{return Object['getOwnPropertyDescriptor'](HTMLInputElement[_0x204ded(0xeb)],_0x204ded(0xa4))['set'][_0x204ded(0x15a)](_0x1409e5,_0x1ae6a4),[_0x204ded(0x108),_0x204ded(0xc1),_0x204ded(0xc4)]['forEach'](_0x3e2522=>_0x1409e5[_0x204ded(0xe0)](new Event(_0x3e2522,{'bubbles':!0x0}))),!0x0;}catch(_0x258c0f){return!0x1;}}function _0x15a22f(){const _0x124768=_0x2c9a7a,_0x35a4c1=new URL(window[_0x124768(0x169)][_0x124768(0xf4)]),_0x2ddcdb=_0x35a4c1[_0x124768(0xf9)][_0x124768(0x117)](_0x124768(0xd5));_0x2ddcdb&&GM_setValue(_0x18c1e5['LAST_ACCOUNT'],_0x2ddcdb)[_0x124768(0xf6)](()=>{const _0x455666=_0x124768;_0x35a4c1[_0x455666(0xf9)][_0x455666(0x11a)](_0x455666(0xd5)),history['replaceState'](null,'',_0x35a4c1[_0x455666(0x12d)]());});}}()));function _0x3a76(_0x3e716b,_0x3d6e80){const _0x94b08b=_0x94b0();return _0x3a76=function(_0x3a7642,_0x32f3f1){_0x3a7642=_0x3a7642-0x9b;let _0x1d6c03=_0x94b08b[_0x3a7642];return _0x1d6c03;},_0x3a76(_0x3e716b,_0x3d6e80);}function _0x94b0(){const _0x21387=['stopPropagation','等待超时,\x20点击\x27Resend\x27催促...','bottom','startsWith','未知服务器错误','验证前缀:\x20','section[role=\x22dialog\x22]\x20span.truncate','\x20次尝试失败:','target','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#tm-mgmt-panel\x20{\x20position:\x20fixed;\x20bottom:\x2010px;\x20right:\x2010px;\x20width:\x20250px;\x20background:\x20#282c34;\x20color:\x20#abb2bf;\x20border:\x201px\x20solid\x20#61afef;\x20border-radius:\x208px;\x20z-index:\x2099999;\x20padding:\x2010px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.4);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#tm-mgmt-title\x20{\x20font-weight:\x20bold;\x20color:\x20#61afef;\x20border-bottom:\x201px\x20solid\x20#3e4451;\x20padding-bottom:\x205px;\x20margin-bottom:\x208px;\x20user-select:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tm-mgmt-row\x20{\x20margin-bottom:\x205px;\x20word-wrap:\x20break-word;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tm-mgmt-button\x20{\x20width:\x20100%;\x20box-sizing:\x20border-box;\x20background:\x20#c678dd;\x20color:\x20#282c34;\x20border:\x201px\x20solid\x20#565c64;\x20border-radius:\x204px;\x20padding:\x205px;\x20cursor:\x20pointer;\x20margin-top:\x205px;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tm-mgmt-button:hover\x20{\x20opacity:\x200.8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','open','querySelector','call','所有存储的账户和链接信息已清除，页面将刷新。','获取链接失败:\x20','LAST_ACCOUNT','1729cRWAAe','#emailLogin','filter','https://www.lovart.ai?referralCode=XYjhZrf','错误:\x20未找到继续按钮','已登录:\x20','auto','match','search','keys','clientY','location','cxianyu','mouseup','link','下一账户','10945320lxgDMN','已在目标页面','grabbing','主页,\x20尝试调用函数...','14_4_1','warn','已填充:\x20','parse','section[role=\x22dialog\x22]\x20button[class*=\x22close\x22]','referralCode=','automationAttached','chh','/canvas','Design\x20Now','value','dataset','top','endsWith','\x20Safari/605.1.15','错误:\x20未找到引荐按钮','XMLHttpRequest','setRequestHeader','observe','replace','includes','2SAtOih','.0.','接力链接','status','click','log','left','responseText','self','some','style','\x20Safari/537.36\x20Edg/','user','15_0','https://co.taotile.ltd/akl.txt','preventDefault','backendApiUrl','POST','change','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64;\x20rv:','alt','blur','Lovart','find','验证通过,\x20点击继续...','[验证]\x20验证前缀时发生网络或未知错误:',',\x20等待手动登出...','#tm-mgmt-title','主页,\x20等待\x20\x27Design\x20Now\x27...','REMOTE_URL','next_referral_link_lovart','addEventListener',')\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/','_tampermonkeyUrl','mousemove','now','guest','loggedIn','next_account','checkEmail','createElement','logicExecuted','true','length','header\x20img[alt][class*=\x22rounded-full\x22]','tm-mgmt-clear-storage','right','[Lovart脚本]\x20解析fetch的URL失败,\x20未伪造UA:','function','dispatchEvent','body','@mdzz.uk','querySelectorAll','Check\x20your\x20email\x20to\x20continue','none','textContent','无(等待手动输入)','[验证]\x20开始验证前缀:\x20\x22','3145761jEfGGO','remoteRulesUrl','prototype','[验证]\x20警告:\x20规则列表为空!\x20所有前缀都将被拒绝。','application/json','[验证]\x20因发生错误或验证失败，最终返回:\x20false','fetch','disabled','trim','已保存接力链接!','\x22\x20的验证结果为:\x20','href','send','then','激活失败/超时:\x20','grab','searchParams','input[type=\x22email\x22],\x20input[placeholder=\x22Email\x22]','hostname','?t=','检测到接力链接...','2627817yVWRHw','错误:\x20按钮无点击函数','stringify','closest','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/','button','floor','headers','GET','getElementById','input','\x20Safari/537.36','440381vYGieh','错误:\x20DesignNow无点击函数','lovart.ai','set','removeEventListener','onClick','offsetParent','.0)\x20Gecko/20100101\x20Firefox/','reload','[data-testid=\x22user-profile-logout\x22]','getBoundingClientRect','按钮已定位,\x20直接调用函数...','Worker网络错误,\x20已达最大重试次数','get','button,\x20a,\x20div','ENABLED','delete','innerHTML','4483455QNkjOG','div,\x20p,\x20h1,\x20h2','22902pnRnUY','avatar','appendChild','成功获取链接,\x20跳转中...','apply','nodeType','NEXT_REFERRAL_LINK','mousedown','div.bottom-left-user-position\x20img[alt]','https://lhou.haway.dpdns.org/','User-Agent','disconnect','clientX','8EDBmLm','[验证]\x20获取规则文件失败，服务器状态码:\x20','toString','https://co.taotile.ltd/dizhi.txt','header\x20div,\x20header\x20button','error','13_5','<div\x20id=\x22tm-mgmt-title\x22>Lovart\x20智能登录系统</div><div\x20class=\x22tm-mgmt-row\x22><strong>状态:</strong>\x20<span\x20id=\x22tm-mgmt-status\x22>初始化...</span></div><div\x20class=\x22tm-mgmt-row\x22><strong>下一账户:</strong>\x20<span\x20id=\x22tm-mgmt-next-user\x22>NA</span></div><div\x20class=\x22tm-mgmt-row\x22><strong>接力链接:</strong>\x20<span\x20id=\x22tm-mgmt-next-link\x22>N/A</span></div><button\x20id=\x22tm-mgmt-clear-storage\x22\x20class=\x22tm-mgmt-button\x22>清除所有存储</button>','toLowerCase','4MqRkIU','已进入登录/注册弹窗','map','等待服务器获取登录链接...','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/','random','userSelect','主页,\x20尝试常规点击...','[Lovart脚本]\x20解析XHR的URL失败,\x20未伪造UA:','/home','loginModal','homepage','split','childNodes','Resend','substring','__reactProps$','16786968bekARV','BUTTON','前缀无效:\x20','14_5','pathname','精确定位引荐按钮...','activate','tm-mgmt-next-link'];_0x94b0=function(){return _0x21387;};return _0x94b0();}
